# 다음 구현 단계 가이드

## PoC 부분 설명

### 현재 상태
```
WARNING: Docker is not available, skipping PoC isolation. Using mock result.
```

**이것은 정상 동작입니다:**
- PoC가 존재하지 않아서가 아니라, **Docker 격리 환경을 사용할 수 없기 때문**입니다
- Docker 컨테이너 내부에서 Docker 소켓에 접근할 수 없음 (Docker-in-Docker 문제)
- 테스트 환경에서는 mock 모드로 동작 (예상된 동작)
- 실제 PoC 재현은 Docker 소켓 마운트가 필요하거나, 호스트에서 직접 실행해야 함

**해결 방법 (실제 PoC 재현이 필요한 경우):**
1. 호스트에서 직접 실행 (Docker 없이)
2. Docker 소켓 마운트 (`docker-compose.yml`에 추가)
3. 현재 상태 유지 (테스트 환경에서는 mock 모드로 충분)

---

## 다음 구현 가능한 파트

### 1. CCE 점검 결과 대시보드 통합 (우선순위: 높음)

**현재 상태:**
- CCE 점검 모듈은 구현됨
- 대시보드에 CCE 결과 표시 기능 없음

**구현 내용:**
- 대시보드에 "CCE 점검 결과" 페이지 추가
- XML/JSON 리포트 표시
- 양호/취약/주의 통계 표시

**예상 작업 시간:** 1-2시간

---

### 2. ML 우선순위 모델 구현 (우선순위: 중간)

**현재 상태:**
- XGBoost는 requirements.txt에 포함됨
- 실제 우선순위 모델은 미구현
- 신뢰도 점수는 규칙 기반으로만 계산됨

**구현 내용:**
- 취약점 메타데이터 수집
- XGBoost 모델 학습
- 우선순위 점수 계산 및 저장
- 대시보드에 우선순위 표시

**예상 작업 시간:** 3-4시간

---

### 3. GitHub API 연동 (우선순위: 중간)

**현재 상태:**
- PR 템플릿 생성은 구현됨
- GitHub API를 통한 자동 PR 생성은 미구현

**구현 내용:**
- GitHub API 클라이언트 구현
- PR 자동 생성 기능
- 대시보드에 PR 생성 버튼 추가

**예상 작업 시간:** 2-3시간

---

### 4. 대시보드 개선 (우선순위: 낮음)

**현재 상태:**
- 기본 기능은 구현됨
- 일부 고급 기능 부족

**구현 내용:**
- CCE 점검 결과 통합
- ML 우선순위 표시
- 증거 파일 실제 다운로드 기능
- 차트 및 시각화 개선

**예상 작업 시간:** 2-3시간

---

### 5. 전체 워크플로우 통합 스크립트 (우선순위: 낮음)

**현재 상태:**
- 개별 테스트 스크립트는 있음
- 전체 워크플로우를 한 번에 실행하는 스크립트 없음

**구현 내용:**
- 스캔 → PoC 재현 → CCE 점검 → 리포트 생성 통합 스크립트
- 자동화 워크플로우

**예상 작업 시간:** 1-2시간

---

## 추천 순서

### 옵션 A: 빠른 개선 (1-2일)
1. CCE 점검 결과 대시보드 통합
2. 전체 워크플로우 통합 스크립트

### 옵션 B: 핵심 기능 완성 (3-5일)
1. CCE 점검 결과 대시보드 통합
2. ML 우선순위 모델 구현
3. GitHub API 연동

### 옵션 C: 전체 완성 (1주일)
1. 모든 위 항목 구현
2. 대시보드 개선
3. 문서화 및 최종 테스트

---

## 각 파트별 상세 설명

### 1. CCE 점검 결과 대시보드 통합

**파일:**
- `src/dashboard/app.py` (수정)
- `src/compliance/` (이미 구현됨)

**구현 내용:**
```python
def show_cce_compliance():
    """CCE 점검 결과 화면"""
    st.header("🛡️ CCE 서버 점검 결과")
    
    # CCE 점검 실행
    if st.button("CCE 점검 실행"):
        # 점검 실행 및 결과 표시
        pass
    
    # 점검 결과 표시
    # XML/JSON 리포트 다운로드
```

---

### 2. ML 우선순위 모델

**파일:**
- `src/ml/priority_model.py` (신규)
- `src/ml/__init__.py` (신규)

**구현 내용:**
- 취약점 특성 추출 (심각도, CVE, 신뢰도 점수 등)
- XGBoost 모델 학습
- 우선순위 점수 계산 (0-100)
- DB에 우선순위 점수 저장

---

### 3. GitHub API 연동

**파일:**
- `src/report/github_integration.py` (신규)

**구현 내용:**
- GitHub API 클라이언트
- PR 자동 생성
- Issue 자동 생성
- 대시보드에서 PR 생성 버튼

---

## 다음 단계 선택

어떤 파트부터 진행할까요?

1. **CCE 점검 결과 대시보드 통합** (가장 빠르고 효과적)
2. **ML 우선순위 모델** (핵심 기능)
3. **GitHub API 연동** (실무 연계)
4. **전체 워크플로우 통합** (자동화)

또는 다른 우선순위가 있으면 알려주세요!

